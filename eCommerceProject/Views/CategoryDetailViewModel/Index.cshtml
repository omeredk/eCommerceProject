@model CategoryDetailViewModel
@{
	Layout = "_Layout";
}
<!-- Page info -->
	<div class="page-top-info">
		<div class="container">
			<h4>Category Page</h4>
			<div class="site-pagination">
				<a href="">Home</a> /
				<a href="">Shop</a> /
			</div>
		</div>
	</div>
	<!-- Page info end -->
	<!-- Category section -->
	<section class="category-section spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 order-2 order-lg-1">
					<div class="filter-widget">
						<h2 class="fw-title">Categories</h2>
						<ul class="category-menu">
							@foreach (Category category in Model.CategoryList)
							{
								
							<li><a href="/CategoryDetailViewModel/Details/@category.CategoryID">@category.CategoryName</a></li>
							}
						</ul>
					</div>
					<div class="filter-widget mb-0">
						<h2 class="fw-title">refine by</h2>
						<div class="price-range-wrap">
							<h4>Price</h4>
							<div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content" data-min="10" data-max="270">
								<div class="ui-slider-range ui-corner-all ui-widget-header" style="left: 0%; width: 100%;"></div>
								<span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 0%;">
								</span>
								<span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 100%;">
								</span>
							</div>
							<div class="range-slider">
								<div class="price-input">
									<input type="text" id="minamount">
									<input type="text" id="maxamount">
								</div>
							</div>
						</div>
					</div>
					@*<div class="filter-widget">
						<h2 class="fw-title">Brand</h2>
						<ul class="category-menu">
						@foreach (Brand brand in Model.CategoryBrandList)
						{
								
							<li><a href="#">@brand.BrandName<span>(2)</span></a></li>
							}
						</ul>
					</div>*@
				</div>

				<div class="col-lg-9  order-1 order-lg-2 mb-5 mb-lg-0">
					<div class="row">
                        @foreach (Product product in Model.CategoryProductList)
						{
						<div class="col-lg-4 col-sm-6">
							<div class="product-item">
								<div class="pi-pic">
									<img src="~/eComm/img/product/@(product.ProductID).jpg" alt="">
									<div class="pi-links">
										<a href="#" class="add-card"><i class="flaticon-bag"></i><span>ADD TO CART</span></a>
										<a href="#" class="wishlist-btn"><i class="flaticon-heart"></i></a>
									</div>
								</div>
								<div class="pi-text">
									<h6>$@product.ProductPrice</h6>
									<p>@product.ProductName</p>
								</div>
							</div>
						</div>
						}
						<div class="text-center w-100 pt-3">
<div class="pagination_fg">
	@if (Model.CurrentPage != 1)
	{
		<a href="#">&laquo;</a>
	}

	<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=1" class="@(Model.CurrentPage==1?"active":"")">1</a>

	@if (Model.LastPageNumber < 7)
	{
		@for (int i = 2; i < Model.LastPageNumber; i++)
		{
			<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=@i" class="@(Model.CurrentPage==i?"active":"")">@i</a>
		}
	}
	else
	{
		@if (Model.CurrentPage < 5)
		{
			@for (int i = 2; i <= 6; i++)
			{
				<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=@i" class="@(Model.CurrentPage==i?"active":"")">@i</a>
			}
		}
		else if (Model.CurrentPage < (Model.LastPageNumber - 2))
		{
			@for (int i = Model.CurrentPage - 2; i <= Model.CurrentPage + 2; i++)
			{
				if (i > 1 && i < Model.LastPageNumber)
				{
					<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=@i" class="@(Model.CurrentPage==i?"active":"")">@i</a>
				}
			}
		}
		else
		{
			@for (int i = (Model.LastPageNumber - 5); i <= (Model.LastPageNumber - 1); i++)
			{
				<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=@i" class="@(Model.CurrentPage==i?"active":"")">@i</a>
			}
		}
	}
	<a href="https://localhost:7069/CategoryDetailViewModel/index?cp=@(Model.LastPageNumber)" class="@(Model.CurrentPage==Model.LastPageNumber?"active":"")">@Model.LastPageNumber</a>
	@if (Model.LastPageNumber != Model.CurrentPage)
	{
		<a href="#">&raquo;</a>
	}
</div>
							<button class="site-btn sb-line sb-dark">LOAD MORE</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Category section end -->